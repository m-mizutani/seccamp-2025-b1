# 検知したアラートの対応

**時間：12:05-12:30 (25分)**

## トリアージ

- アラートの影響度を調査する
- トリアージに負荷がかかるのがインフラ・サービスなどの監視と異なる点の1つ
  - インフラやサービスは影響＝検知というケースが多い
- インシデント（実際に影響のある事象）であることへの移行をどのタイミングで見きれるか

### トリアージする際の観点

- 仮説を立てながら証拠を収集する
- 関連するIndicator（IPアドレス、ドメイン名、ファイルハッシュ値）の脅威情報を調べる
- 実際の業務にどのように関連していたかを調べる、関係者に問い合わせる

### 実際の対応の例

https://warren-171198963743.asia-northeast1.run.app/alerts を見ながら解説

## フィードバック

誤検知だった場合、アラートを検知しないようにする

- 同じアラートが継続して出現するのはノイズになる
- アラート → 対応という導線が失われ、対応が遅延する
- 後日の集計などにおいてもノイズとなる

### 対応方針

- (1) アラートを発生させた事象自体が起こらないようにする
  - 運用方法やルールを変更してもらう
  - 設定不備などあればそれを修正してもらう
- (2) 検知ルールをチューニングする
  - 運用上やむを得ない場合はこちら
  - 

### ルールチューニングにおける注意点

- なぜその事象を無視して良いかの論拠を明確にする
- 誤検知はなくすが、正常な検知を同時に無視しないように留意する
- （記述言語・設定的に可能であれば）なるべく構造化する
  - 例えばallow listのようなものに追加するなど

### 実際の対応の例

ルールを見ながら解説
